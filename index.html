<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PulseBoard v2 — Live Crypto Dashboard</title>
  <meta name="theme-color" content="#0a1224">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="bg-orb orb-1"></div>
  <div class="bg-orb orb-2"></div>

  <header class="topbar glass">
    <div class="brand">
      <span class="logo">⚡</span>
      <span class="title">PulseBoard <span class="badge">v2</span></span>
    </div>
    <div class="top-actions">
      <input id="searchToken" placeholder="Search token (e.g., bitcoin, eth)">
      <button id="addToken" class="btn">Add</button>
      <button id="refreshNow" class="btn">Refresh</button>
      <label class="chip">Update
        <select id="refreshInt" class="select">
          <option value="1">1s (selected)</option>
          <option value="5" selected>5s</option>
          <option value="10">10s</option>
          <option value="20">20s</option>
          <option value="30">30s</option>
        </select>
      </label>
      <label class="chip">Fiat
        <select id="fiat" class="select">
          <option value="usd" selected>USD</option>
          <option value="eur">EUR</option>
          <option value="gbp">GBP</option>
        </select>
      </label>
    </div>
  </header>

  <main class="grid">
    <section class="card span-8">
      <div class="card-head">
        <h2>Top Coins</h2>
        <div class="status"><span id="statusText">Idle</span> • <span id="lastUpdate">—</span></div>
      </div>
      <div id="topCoins" class="table skeleton"></div>
    </section>

    <section class="card span-4">
      <div class="card-head">
        <h2>Watchlist</h2>
        <div><button id="clearWatch" class="btn subtle">Clear</button></div>
      </div>
      <div id="watchlist" class="watchlist skeleton"></div>
      <div class="hint">Tip: add tokens, then click one to open details. Selected token updates every second (with backoff if needed).</div>
    </section>

    <section class="card span-12">
      <div class="card-head"><h2>Token Details & Live Chart</h2></div>
      <div id="tokenDetails" class="token-details">
        <div class="left">
          <div class="row">
            <div class="name" id="tdName">—</div>
            <div class="live">
              <span class="dot"></span>
              <span id="liveStatus">Live</span>
            </div>
          </div>
          <div class="price-row">
            <div class="price" id="tdPrice">—</div>
            <div id="tdPriceChange" class="change">—</div>
          </div>
          <div class="row stats" id="tdStats">—</div>
          <div class="predictions">
            <div class="pred" id="pred1h">1h: —</div>
            <div class="pred" id="pred4h">4h: —</div>
            <div class="pred" id="pred24h">24h: —</div>
          </div>
          <div class="disclaimer">Heuristic predictions using recent trend/volatility/volume. Educational only.</div>
        </div>
        <div class="right">
          <canvas id="miniChart"></canvas>
        </div>
      </div>
    </section>

    <section class="card span-12">
      <div class="card-head"><h2>New Pairs (Dexscreener)</h2></div>
      <div class="controls">
        <label>Chains
          <select id="chains" multiple size="6">
            <option value="ethereum" selected>Ethereum</option>
            <option value="bsc" selected>BSC</option>
            <option value="polygon" selected>Polygon</option>
            <option value="base" selected>Base</option>
            <option value="arbitrum" selected>Arbitrum</option>
            <option value="optimism" selected>Optimism</option>
            <option value="avalanche">Avalanche</option>
            <option value="solana">Solana</option>
            <option value="linea">Linea</option>
            <option value="scroll">Scroll</option>
            <option value="blast">Blast</option>
          </select>
        </label>
        <button id="loadPairs" class="btn">Load Newest</button>
      </div>
      <div id="pairs" class="pairs skeleton"></div>
    </section>
  </main>

  <footer class="footer">
    <span>PulseBoard v2 © 2025 — Client-side app using CoinGecko & Dexscreener. Not financial advice.</span>
  </footer>

  <script src="app.js"></script>
</body>
</html>
